(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,n=window.wp.i18n,o=window.ReactJSXRuntime;(0,e.registerBlockType)("content-gate/main",{title:(0,n.__)("Content Gate","content-gate"),description:(0,n.__)("Gate content behind a name/email form","content-gate"),icon:"lock",category:"widgets",supports:{html:!1},attributes:{content:{type:"string",source:"html",selector:".content-gate-content"}},edit:function({attributes:e,setAttributes:n}){const s=(0,t.useBlockProps)({className:"content-gate-block"});return(0,o.jsxs)("div",{...s,children:[(0,o.jsx)("div",{className:"content-gate-notice",children:(0,o.jsx)("span",{children:"⚠️ Content below this point will be gated"})}),(0,o.jsx)("div",{className:"content-gate-content",children:(0,o.jsx)(t.InnerBlocks,{})})]})},save:function({attributes:e}){const s=t.useBlockProps.save({className:"content-gate-block"});return(0,o.jsxs)("div",{...s,children:[(0,o.jsxs)("div",{className:"content-gate-form",style:{display:"none"},children:[(0,o.jsx)("h3",{children:(0,n.__)("Continue Reading","content-gate")}),(0,o.jsx)("p",{children:(0,n.__)("Please enter your details to continue reading this content.","content-gate")}),(0,o.jsxs)("form",{className:"content-gate-form-fields",children:[(0,o.jsx)("input",{type:"text",name:"name",placeholder:(0,n.__)("Your Name","content-gate"),required:!0}),(0,o.jsx)("input",{type:"email",name:"email",placeholder:(0,n.__)("Your Email","content-gate"),required:!0}),(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",name:"remember"}),(0,n.__)("Remember me for future articles","content-gate")]}),(0,o.jsx)("button",{type:"submit",children:(0,n.__)("Continue Reading","content-gate")})]})]}),(0,o.jsx)("div",{className:"content-gate-content",children:(0,o.jsx)(t.InnerBlocks.Content,{})})]})}})})();